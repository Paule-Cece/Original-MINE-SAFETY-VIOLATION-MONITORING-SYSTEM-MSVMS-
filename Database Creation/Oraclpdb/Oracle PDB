- Tables for Mine Safety Violations

-- MINE_SITE
CREATE TABLE MINE_SITE (
  SiteID NUMBER PRIMARY KEY,
  SiteName VARCHAR2(100) NOT NULL,
  Location VARCHAR2(200),
  Supervisor VARCHAR2(100)
);

-- EMPLOYEE
CREATE TABLE EMPLOYEE (
  EmployeeID NUMBER PRIMARY KEY,
  Name VARCHAR2(100) NOT NULL,
  Position VARCHAR2(50),
  SiteID NUMBER,
  CONSTRAINT FK_EMP_SITE FOREIGN KEY (SiteID) REFERENCES MINE_SITE(SiteID)
);

-- VIOLATION
CREATE TABLE VIOLATION (
  ViolationID NUMBER PRIMARY KEY,
  EmployeeID NUMBER,
  ViolationDate DATE NOT NULL,
  Type VARCHAR2(50),
  Severity VARCHAR2(20),
  Description VARCHAR2(400),
  CONSTRAINT FK_VIOL_EMP FOREIGN KEY (EmployeeID) REFERENCES EMPLOYEE(EmployeeID)
);

-- INSPECTION
CREATE TABLE INSPECTION (
  InspectionID NUMBER PRIMARY KEY,
  SiteID NUMBER,
  InspectionDate DATE NOT NULL,
  Inspector VARCHAR2(100),
  Remarks VARCHAR2(400),
  CONSTRAINT FK_INSP_SITE FOREIGN KEY (SiteID) REFERENCES MINE_SITE(SiteID)
);

-- RECOMMENDATION
CREATE TABLE RECOMMENDATION (
  RecommendationID NUMBER PRIMARY KEY,
  ViolationID NUMBER,
  RecommendationDate DATE,
  Action VARCHAR2(400),
  Status VARCHAR2(20),
  CONSTRAINT FK_RECOM_VIOL FOREIGN KEY (ViolationID) REFERENCES VIOLATION(ViolationID)
);
